<!doctype html><style>html{height:100vh}body{min-height:100vh;display:grid;grid-template-rows:1fr auto}.footer{grid-row-start:2;grid-row-end:3}</style><html lang=en-gb><head><meta charset=utf-8><title>Sam Robbins</title><link rel=canonical href=https://samrobbins.uk/portfolio/algorithms-and-data-structures/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=monetization content="$ilp.uphold.com/reGxiLfZfUmn"><meta name=description property="og:description" content="A range of code relating to Algorithms and Data Structures"><meta name=image property="og:image" content="/"><meta name=author content="Sam Robbins"><meta name=generator content="Hugo 0.75.1"><link rel=stylesheet href=/css/syntax.min.css integrity media=screen><script src=https://cdn.jsdelivr.net/npm/mailgo@0.9.14/dist/mailgo.min.js defer></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link href=/css/tailwind.min.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8348650db5154c01999667d263b7e6e1"}'></script></head><body class=portfolio><div class=wrapper><nav class="fixed h-16 p-4 bg-white border-b border-gray-200 w-full z-20"><div class="flex divide-x-4 divide-transparent pr-6 text-lg items-center text-gray-700"><a href=/ class=font-normal>Home</a>
<a href=/about/ title=About>About</a>
<a href=/blog/ title=Blog>Blog</a>
<a class="text-gray-800 font-semibold" href=/portfolio/ title=Portfolio>Portfolio</a>
<a href=/writing/ title=Writing>Writing</a></div></nav><section class="pt-20 px-4"><div class="container mx-auto"><h1 class="text-4xl text-center font-semibold">Algorithms and Data Structures</h1><p class="text-center text-gray-600 text-xl">A range of code relating to Algorithms and Data Structures</p><div class="py-4 text-gray-600"><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>Jan 21, 2019</p><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3A9 9 0 113 12a9 9 0 0118 0z"/></svg>6 minutes</p></div><div class="flex justify-center gap-x-40 gap-y-4 flex-wrap"><div class="border border-gray-500 px-4 py-2 w-32"><a href=https://github.com/samrobbins85/ADS-Coursework><img src=https://unpkg.com/simple-icons@v3/icons/github.svg class="inline-block h-6 w-6 mr-2"> Github</a></div></div><hr class=my-4><h2 class="text-center text-3xl">Built with</h2><section class="py-6 px-2"><div class=container><div class="flex justify-center gap-x-10 flex-wrap gap-y-4"><div><a href=https://www.python.org/><img class="h-20 w-32 object-contain" src=https://res.cloudinary.com/samrobbins/image/upload/q_auto/v1591793276/logos/logos_python_pjlesq.svg alt=Python loading=lazy style=cursor:pointer></a></div></div></div></section><hr class=py-4></div></div></section><div class="container prose mx-auto w-screen px-4 pb-6"><h2 id=hash-table>Hash Table</h2><p>The code for this algorithm can be found in <code>Question 1/q1.py</code></p><p>This adds keys to a hash table of size 19 using the hash function defined by <em>h(k)=6k+3 mod 19</em></p><p>In the first implementation <code>hash_quadratic</code> collisions are handled by probing</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>hash_quadratic</span><span class=p>(</span><span class=n>d</span><span class=p>):</span>
    <span class=c1>#initialize table</span>
    <span class=n>table</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;-&#34;</span><span class=p>]</span><span class=o>*</span><span class=mi>19</span>
    <span class=n>flag</span><span class=o>=</span><span class=mi>0</span>
    <span class=c1>#consider each integer k in the input</span>
    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>d</span><span class=p>:</span>
        <span class=n>flag</span><span class=o>=</span><span class=mi>0</span>
        <span class=c1>#if k is already in the table this is a duplicate so move to next integer in the input</span>
        <span class=c1>#note this check for a duplicate is using the functionality of python rather than checking using a linear probe</span>
        <span class=k>if</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>table</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=c1>#apply the hash function</span>
        <span class=n>i</span> <span class=o>=</span> <span class=p>(</span><span class=mi>6</span><span class=o>*</span><span class=n>k</span><span class=o>+</span><span class=mi>3</span><span class=p>)</span> <span class=o>%</span> <span class=mi>19</span>
        <span class=n>init</span><span class=o>=</span><span class=n>i</span>
        <span class=c1>#initialize count that checks whether linear probe has considered each bucket and is now full</span>
        <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=c1>#while bucket is already filled</span>
        <span class=k>while</span> <span class=n>table</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&#34;-&#34;</span><span class=p>:</span>
            <span class=c1>#move to next bucket</span>
            <span class=n>i</span> <span class=o>=</span> <span class=p>(</span><span class=n>init</span><span class=o>+</span><span class=n>count</span><span class=o>*</span><span class=n>count</span><span class=p>)</span> <span class=o>%</span> <span class=mi>19</span>
            <span class=c1>#increment count</span>
            <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=c1>#if table is full</span>
            <span class=k>if</span> <span class=n>count</span> <span class=o>==</span> <span class=mi>18</span><span class=p>:</span>
                <span class=n>flag</span><span class=o>=</span><span class=mi>1</span>
                <span class=c1>#can return table as nothing further can be added</span>
                <span class=k>break</span>
        <span class=k>if</span> <span class=n>flag</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span>
            <span class=k>continue</span>

        <span class=c1>#table[i] is empty so k can be added here</span>
        <span class=n>table</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>k</span>
    <span class=c1>#now each part of the input has been considered return the table</span>
    <span class=k>return</span> <span class=n>table</span>
</code></pre></div><p>In the second implementation, <code>hash_double</code> collisions are handled using double hashing with the secondary hash function <em>h'(k)=11-(k mod 11)</em></p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>hash_double</span><span class=p>(</span><span class=n>d</span><span class=p>):</span>
    <span class=c1>#initialize table</span>
    <span class=n>table</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;-&#34;</span><span class=p>]</span><span class=o>*</span><span class=mi>19</span>
    <span class=n>flag</span><span class=o>=</span><span class=mi>0</span>
    <span class=c1>#consider each integer k in the input</span>
    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>d</span><span class=p>:</span>
        <span class=n>flag</span><span class=o>=</span><span class=mi>0</span>
        <span class=c1>#if k is already in the table this is a duplicate so move to next integer in the input</span>
        <span class=c1>#note this check for a duplicate is using the functionality of python rather than checking using a linear probe</span>
        <span class=k>if</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>table</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=c1>#apply the hash function</span>
        <span class=n>i</span> <span class=o>=</span> <span class=p>(</span><span class=mi>6</span><span class=o>*</span><span class=n>k</span><span class=o>+</span><span class=mi>3</span><span class=p>)</span> <span class=o>%</span> <span class=mi>19</span>
        <span class=n>init</span><span class=o>=</span><span class=n>i</span>
        <span class=c1>#initialize count that checks whether linear probe has considered each bucket and is now full</span>
        <span class=n>count</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=c1>#while bucket is already filled</span>
        <span class=k>while</span> <span class=n>table</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>!=</span> <span class=s2>&#34;-&#34;</span><span class=p>:</span>
            <span class=c1>#move to next bucket</span>
            <span class=n>i</span> <span class=o>=</span> <span class=p>(</span><span class=n>init</span><span class=o>+</span><span class=n>count</span><span class=o>*</span><span class=p>(</span><span class=mi>11</span><span class=o>-</span><span class=p>(</span><span class=n>k</span><span class=o>%</span><span class=mi>11</span><span class=p>)))</span> <span class=o>%</span> <span class=mi>19</span>
            <span class=c1>#increment count</span>
            <span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
            <span class=c1>#if table is full</span>
            <span class=k>if</span> <span class=n>count</span> <span class=o>==</span> <span class=mi>20</span><span class=p>:</span>
                <span class=n>flag</span><span class=o>=</span><span class=mi>1</span>
                <span class=c1>#can return table as nothing further can be added</span>
                <span class=k>break</span>

        <span class=k>if</span> <span class=n>flag</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=c1>#table[i] is empty so k can be added here</span>
        <span class=n>table</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>k</span>
    <span class=c1>#now each part of the input has been considered return the table</span>
    <span class=k>return</span> <span class=n>table</span>
</code></pre></div><h2 id=ephemeral-numbers>Ephemeral numbers</h2><p>This code calculates the number of ephemeral numbers between two values.</p><p>A positive integer is k-ephemeral if its k-descendent sequence ends in 1, otherwise it is k-eternal.</p><p>The k-descendant sequence of a positive integer begins with the integer and then each successive term is the k-child of the previous one. The sequence terminates if it reaches a 1 or a term is repeated.</p><p>The k-child of a positive integer is the number obtained by taking the kth power of each digit and adding them.</p><p>This is implemented using the following function</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>count_ephemeral</span><span class=p>(</span><span class=n>n1</span><span class=p>,</span><span class=n>n2</span><span class=p>,</span><span class=n>k</span><span class=p>):</span>
    <span class=c1># Create a list of the powers required for the given value of k</span>
    <span class=n>power_list</span><span class=o>=</span><span class=p>[</span><span class=n>x</span><span class=o>**</span><span class=n>k</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span> <span class=p>(</span><span class=mi>10</span><span class=p>)]</span>
    <span class=c1># Count keeps track of the number of ephemeral numbers</span>
    <span class=n>count</span><span class=o>=</span><span class=mi>0</span>
    <span class=c1># Create two tables, one to store the eternal numbers, and one to store the ephemeral numbers</span>
    <span class=n>eternal</span><span class=o>=</span><span class=nb>set</span><span class=p>()</span>
    <span class=n>eph</span><span class=o>=</span><span class=nb>set</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=nb>range</span> <span class=p>(</span><span class=n>n1</span><span class=p>,</span><span class=n>n2</span><span class=p>):</span>
        <span class=c1># Current sequence stores all the values in the current sequence</span>
        <span class=n>current_seq</span><span class=o>=</span><span class=nb>set</span><span class=p>()</span>
        <span class=c1># This checks if n has been seen before or if it is 1, in any of those cases it will break out of the loop</span>
        <span class=k>while</span> <span class=n>n</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>current_seq</span> <span class=ow>and</span> <span class=n>n</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>eternal</span> <span class=ow>and</span> <span class=n>n</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>eph</span> <span class=ow>and</span> <span class=n>n</span><span class=o>!=</span><span class=mi>1</span><span class=p>:</span>
            <span class=c1># Add the new number to the current sequence</span>
            <span class=n>current_seq</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
            <span class=c1># Calculate the k child of n</span>
            <span class=n>k_child</span><span class=o>=</span><span class=mi>0</span>
            <span class=k>while</span> <span class=n>n</span><span class=p>:</span>
                <span class=n>digit</span> <span class=o>=</span> <span class=n>n</span> <span class=o>%</span> <span class=mi>10</span>
                <span class=n>k_child</span><span class=o>+=</span><span class=n>power_list</span><span class=p>[</span><span class=n>digit</span><span class=p>]</span>
                <span class=n>n</span> <span class=o>//=</span><span class=mi>10</span>
            <span class=n>n</span><span class=o>=</span><span class=n>k_child</span>
        <span class=c1># If n is an ephemeral number add it, and the rest of the sequence to the list of ephemeral numbers</span>
        <span class=k>if</span> <span class=n>n</span><span class=o>==</span><span class=mi>1</span> <span class=ow>or</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>eph</span><span class=p>:</span>
            <span class=n>eph</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>current_seq</span><span class=p>)</span>
            <span class=n>count</span><span class=o>+=</span><span class=mi>1</span>
        <span class=c1># Otherwise add the sequence to the list of eternal numbers</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>eternal</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>current_seq</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>count</span>
</code></pre></div><h2 id=sum-and-product-expression>Sum and product expression</h2><p>A sum and product expression is a statement containing positive integers, brackets and the plus and times operators. A sum and product expression i said to be good is none of the brackets are redundant. This function decides whether a sum and product expression is good. It is implemented using stacks and queues, the code for defining how these work is left out for brevity.</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>good_expression</span><span class=p>(</span><span class=n>expression</span><span class=p>):</span>
    <span class=c1># For completeness, remove all the spaces from the string just in case there are any</span>
    <span class=n>expression</span><span class=o>=</span><span class=n>expression</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>)</span>
    <span class=c1># Initialise flags for if the statement is valid, if a close bracket was the last term and if the stack became empty on the last loop</span>
    <span class=n>flag</span><span class=o>=</span><span class=mi>0</span>
    <span class=n>empty</span><span class=o>=</span><span class=bp>False</span>
    <span class=n>valid</span> <span class=o>=</span> <span class=bp>True</span>
    <span class=c1># Initialise a stack to store the operators</span>
    <span class=n>data</span><span class=o>=</span><span class=n>Stack</span><span class=p>()</span>

    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>expression</span><span class=p>:</span>
        <span class=n>count</span><span class=o>=</span><span class=mi>0</span>
        <span class=c1># The below if statement will trigger if a close bracket occurred on the last loop</span>
        <span class=k>if</span> <span class=n>flag</span><span class=o>==</span><span class=mi>1</span> <span class=ow>and</span> <span class=n>empty</span><span class=o>==</span><span class=bp>False</span><span class=p>:</span>
            <span class=n>after</span> <span class=o>=</span> <span class=n>i</span>
            <span class=n>before</span> <span class=o>=</span> <span class=n>b</span>
            <span class=c1># If there isn&#39;t a multiplication on either of the sides of a pair of brackets, the statement is invalid</span>
            <span class=k>if</span> <span class=n>before</span><span class=o>!=</span><span class=s2>&#34;*&#34;</span> <span class=ow>and</span> <span class=n>after</span><span class=o>!=</span><span class=s2>&#34;*&#34;</span><span class=p>:</span>
                <span class=n>valid</span><span class=o>=</span><span class=bp>False</span>
                <span class=k>break</span>
        <span class=c1># If empty is True, then the first bracket of the pair was the first thing in the string, so there would need to be multiplication on the other side</span>
        <span class=k>elif</span> <span class=n>empty</span><span class=p>:</span>
            <span class=n>after</span> <span class=o>=</span> <span class=n>i</span>
            <span class=k>if</span> <span class=n>after</span><span class=o>!=</span><span class=s2>&#34;*&#34;</span><span class=p>:</span>
                <span class=n>valid</span><span class=o>=</span><span class=bp>False</span>
        <span class=n>flag</span><span class=o>=</span><span class=mi>0</span>
        <span class=n>empty</span><span class=o>=</span><span class=mi>0</span>
        <span class=c1># If I is an operator or open bracket, just push it to the stack</span>
        <span class=k>if</span> <span class=n>i</span><span class=o>==</span><span class=s2>&#34;*&#34;</span> <span class=ow>or</span> <span class=n>i</span><span class=o>==</span><span class=s2>&#34;+&#34;</span> <span class=ow>or</span> <span class=n>i</span><span class=o>==</span><span class=s2>&#34;(&#34;</span><span class=p>:</span>
            <span class=n>data</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
        <span class=c1># But if i is a close bracket, more needs to be done</span>
        <span class=k>if</span> <span class=n>i</span><span class=o>==</span><span class=s2>&#34;)&#34;</span><span class=p>:</span>
            <span class=c1># Check if the stack is empty, as I will be popping from it, if it is empty, then there is an error</span>
            <span class=k>if</span> <span class=n>data</span><span class=o>.</span><span class=n>isEmpty</span><span class=p>()</span><span class=o>==</span><span class=bp>True</span><span class=p>:</span>
                <span class=n>valid</span><span class=o>=</span><span class=bp>False</span>
                <span class=k>break</span>
            <span class=c1># Temporarily make valid false, for the purpose of checking the symbols in the bracket</span>
            <span class=n>valid</span><span class=o>=</span><span class=bp>False</span>
            <span class=n>b</span><span class=o>=</span><span class=n>data</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
            <span class=k>while</span> <span class=n>b</span><span class=o>!=</span><span class=s2>&#34;(&#34;</span> <span class=ow>and</span> <span class=n>data</span><span class=o>.</span><span class=n>isEmpty</span><span class=p>()</span><span class=o>==</span><span class=bp>False</span><span class=p>:</span>
                <span class=c1># There needs to be an addition somewhere in the bracket, otherwise it is unnecessary</span>
                <span class=k>if</span> <span class=n>b</span><span class=o>==</span><span class=s2>&#34;+&#34;</span><span class=p>:</span>
                    <span class=n>valid</span><span class=o>=</span><span class=bp>True</span>
                <span class=n>count</span><span class=o>+=</span><span class=mi>1</span>
                <span class=n>b</span> <span class=o>=</span> <span class=n>data</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
            <span class=c1># If there wasn&#39;t an addition, then break out of the loop ad the expression is bad</span>
            <span class=k>if</span> <span class=n>valid</span><span class=o>==</span><span class=bp>False</span><span class=p>:</span>
                <span class=k>break</span>
            <span class=c1># If the bracket only had one symbol in it, it is unnecessary, and so the expression is bad</span>
            <span class=k>if</span> <span class=n>count</span><span class=o>==</span><span class=mi>0</span><span class=p>:</span>
                <span class=n>valid</span><span class=o>=</span><span class=bp>False</span>
                <span class=k>break</span>
            <span class=c1># If the stack is empty, set the flag for the next element to check against</span>
            <span class=k>if</span> <span class=n>data</span><span class=o>.</span><span class=n>isEmpty</span><span class=p>()</span><span class=o>==</span><span class=bp>True</span><span class=p>:</span>
                <span class=n>empty</span><span class=o>=</span><span class=bp>True</span>
                <span class=n>flag</span><span class=o>=</span><span class=mi>1</span>
                <span class=k>continue</span>
            <span class=n>b</span><span class=o>=</span><span class=n>data</span><span class=o>.</span><span class=n>top</span><span class=p>()</span>
            <span class=n>flag</span><span class=o>=</span><span class=mi>1</span>
    <span class=c1># If the flag was set on the last element</span>
    <span class=k>if</span> <span class=n>flag</span><span class=o>==</span><span class=mi>1</span><span class=p>:</span>
        <span class=c1># If the symbol before the brackets isn&#39;t a multiply, then the statement is false</span>
        <span class=k>if</span> <span class=n>b</span><span class=o>!=</span><span class=s2>&#34;*&#34;</span><span class=p>:</span>
            <span class=n>valid</span><span class=o>=</span><span class=bp>False</span>

    <span class=k>return</span> <span class=n>valid</span>
</code></pre></div><h2 id=hybrid-merge-sort>Hybrid Merge Sort</h2><p>For this algorithm, instead of recursively calling Merge Sort until the list to be sorted has length 1, we will implement Selection Sort to sort any list of length 4 or less. This algorithm will output a sorted list from largest to smallest.</p><p>First I implemented a function to perform Selection Sort</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>SelectionSort</span><span class=p>(</span><span class=nb>list</span><span class=p>):</span>
    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span> <span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=nb>list</span><span class=p>)):</span>
        <span class=n>elem</span><span class=o>=</span><span class=nb>list</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
        <span class=n>pos</span><span class=o>=</span><span class=n>i</span>
        <span class=k>for</span> <span class=n>j</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=nb>list</span><span class=p>)):</span>
            <span class=k>if</span> <span class=nb>list</span><span class=p>[</span><span class=n>j</span><span class=p>]</span><span class=o>&gt;=</span><span class=n>elem</span><span class=p>:</span>
                <span class=n>elem</span><span class=o>=</span><span class=nb>list</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
                <span class=n>pos</span><span class=o>=</span><span class=n>j</span>
        <span class=nb>list</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=nb>list</span><span class=p>[</span><span class=n>pos</span><span class=p>]</span> <span class=o>=</span> <span class=nb>list</span><span class=p>[</span><span class=n>pos</span><span class=p>],</span> <span class=nb>list</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
    <span class=k>return</span> <span class=nb>list</span>
</code></pre></div><p>Then the function which performs Merge Sort and calls the Selection Sort function when appropriate</p><div class=highlight><pre class=chroma><code class=language-python data-lang=python><span class=k>def</span> <span class=nf>HybridSort</span><span class=p>(</span><span class=n>nlist</span><span class=p>):</span>
    <span class=c1># If the length of the list is less than or equal to 4, then sort using selection sort</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nlist</span><span class=p>)</span><span class=o>&lt;=</span><span class=mi>4</span><span class=p>:</span>
        <span class=n>nlist</span><span class=o>=</span><span class=n>SelectionSort</span><span class=p>(</span><span class=n>nlist</span><span class=p>)</span>
    <span class=c1># Otherwise sort using merge sort, unless the list is of length 1</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nlist</span><span class=p>)</span><span class=o>&gt;</span><span class=mi>1</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>nlist</span><span class=p>)</span><span class=o>&gt;</span><span class=mi>4</span><span class=p>:</span>
        <span class=c1># Find the middle of the list</span>
        <span class=n>mid</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nlist</span><span class=p>)</span><span class=o>//</span><span class=mi>2</span>
        <span class=c1># Use this to create two lists</span>
        <span class=n>lefthalf</span> <span class=o>=</span> <span class=n>nlist</span><span class=p>[:</span><span class=n>mid</span><span class=p>]</span>
        <span class=n>righthalf</span> <span class=o>=</span> <span class=n>nlist</span><span class=p>[</span><span class=n>mid</span><span class=p>:]</span>

        <span class=n>HybridSort</span><span class=p>(</span><span class=n>lefthalf</span><span class=p>)</span>
        <span class=n>HybridSort</span><span class=p>(</span><span class=n>righthalf</span><span class=p>)</span>

        <span class=c1># Merging</span>
        <span class=n>i</span><span class=o>=</span><span class=n>j</span><span class=o>=</span><span class=n>k</span><span class=o>=</span><span class=mi>0</span>
        <span class=c1># While the lists are not exhausted</span>
        <span class=k>while</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>lefthalf</span><span class=p>)</span> <span class=ow>and</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>righthalf</span><span class=p>):</span>
            <span class=c1># If the left half first index is greater than right half, add it to the output list</span>
            <span class=k>if</span> <span class=n>lefthalf</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>righthalf</span><span class=p>[</span><span class=n>j</span><span class=p>]:</span>
                <span class=n>nlist</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=o>=</span><span class=n>lefthalf</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
                <span class=c1># Increment the value of i so that the element would not be added multiple times</span>
                <span class=n>i</span><span class=o>=</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=c1># Other wise the right half first index is larger, so add that</span>
                <span class=n>nlist</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=o>=</span><span class=n>righthalf</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
                <span class=c1># And again increment the index</span>
                <span class=n>j</span><span class=o>=</span><span class=n>j</span><span class=o>+</span><span class=mi>1</span>
            <span class=c1># Increment k to jump to the next index in nlist</span>
            <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=o>+</span><span class=mi>1</span>
        <span class=c1># If the loop has broken out to here then one of the lists is empty</span>
        <span class=c1># Loop adding all the remaining elements of the lefthalf list, if it is empty then just move on</span>
        <span class=k>while</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>lefthalf</span><span class=p>):</span>
            <span class=n>nlist</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=o>=</span><span class=n>lefthalf</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
            <span class=n>i</span><span class=o>=</span><span class=n>i</span><span class=o>+</span><span class=mi>1</span>
            <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=o>+</span><span class=mi>1</span>
        <span class=c1># Loop adding all the remaining elements of the righthalf list, again, if it is empty then just move on</span>
        <span class=k>while</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>righthalf</span><span class=p>):</span>
            <span class=n>nlist</span><span class=p>[</span><span class=n>k</span><span class=p>]</span><span class=o>=</span><span class=n>righthalf</span><span class=p>[</span><span class=n>j</span><span class=p>]</span>
            <span class=n>j</span><span class=o>=</span><span class=n>j</span><span class=o>+</span><span class=mi>1</span>
            <span class=n>k</span><span class=o>=</span><span class=n>k</span><span class=o>+</span><span class=mi>1</span>
</code></pre></div></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous></div></body></html>