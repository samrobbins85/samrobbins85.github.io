<!doctype html><style>html{height:100vh}body{min-height:100vh;display:grid;grid-template-rows:1fr auto}.footer{grid-row-start:2;grid-row-end:3}</style><html lang=en-gb><head><meta charset=utf-8><title>Sam Robbins</title><link rel=canonical href=https://samrobbins.uk/portfolio/cv-cli/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=monetization content="$ilp.uphold.com/reGxiLfZfUmn"><meta name=description property="og:description" content="A command line CV made with Node.js"><meta name=image property="og:image" content="/"><meta name=author content="Sam Robbins"><meta name=generator content="Hugo 0.75.1"><link rel=stylesheet href=/css/syntax.min.css integrity media=screen><script src=https://cdn.jsdelivr.net/npm/mailgo@0.9.14/dist/mailgo.min.js defer></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link href=/css/tailwind.min.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8348650db5154c01999667d263b7e6e1"}'></script></head><body class=portfolio><div class=wrapper><nav class="fixed h-16 p-4 bg-white border-b border-gray-200 w-full z-20"><div class="flex divide-x-4 divide-transparent pr-6 text-lg items-center text-gray-700"><a href=/ class=font-normal>Home</a>
<a href=/about/ title=About>About</a>
<a href=/blog/ title=Blog>Blog</a>
<a class="text-gray-800 font-semibold" href=/portfolio/ title=Portfolio>Portfolio</a>
<a href=/writing/ title=Writing>Writing</a></div></nav><section class="pt-20 px-4"><div class="container mx-auto"><h1 class="text-4xl text-center font-semibold">CV CLI</h1><p class="text-center text-gray-600 text-xl">A command line CV made with Node.js</p><div class="py-4 text-gray-600"><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>Dec 13, 2020</p><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3A9 9 0 113 12a9 9 0 0118 0z"/></svg>3 minutes</p></div><div class="flex justify-center gap-x-40 gap-y-4 flex-wrap"><div class="border border-gray-500 px-4 py-2 w-32"><a href=https://www.npmjs.com/package/samrobbins><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-6 w-6 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657.0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657.0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/></svg>Website</a></div><div class="border border-gray-500 px-4 py-2 w-32"><a href=https://github.com/samrobbins85/cli-cv><img src=https://unpkg.com/simple-icons@v3/icons/github.svg class="inline-block h-6 w-6 mr-2"> Github</a></div></div><hr class=my-4><h2 class="text-center text-3xl">Built with</h2><section class="py-6 px-2"><div class=container><div class="flex justify-center gap-x-10 flex-wrap gap-y-4"><div><a href=https://www.npmjs.com/package/ink><img class="h-20 w-32 object-contain" src=/img/logos/ink.png alt=Ink loading=lazy style=cursor:pointer></a></div><div><a href=https://reactjs.org/><img class="h-20 w-32 object-contain" src=/img/logos/react.svg alt=React loading=lazy style=cursor:pointer></a></div><div><a href=https://nodejs.org/en/><img class="h-20 w-32 object-contain" src=/img/long_logos/nodejs.svg alt=Node.js loading=lazy style=cursor:pointer></a></div></div></div></section><hr class=py-4></div></div></section><div class="container prose mx-auto w-screen px-4 pb-6"><p>This was initially inspired by a project I saw on dev.to to <a href=https://dev.to/cdthomp1/create-your-own-npm-card-ejp>create a personal npm card</a>, this was a great project, and I followed it through and loved the result, but thought I could expand on the idea.</p><p>If you look at my portfolio you can see I like to experiment with different ways to make and present a CV, so I thought this could add to that theme by creating a npm CV.</p><p>Using a couple of lightweight node packages was good for the card, but to build a CV I would need more complex layout features, so I decided to use <a href=https://www.npmjs.com/package/ink>ink</a>, which allows you to use React to create a CLI. Notably it uses Yoga to build flexbox layouts, which would be very useful to get everything laid out as I wanted.</p><p>First up was to create a box in which my CV would sit, for this I used the <code>Box</code> component, along with specifying <code>borderStyle="double"</code> to give a nice border.</p><p>Then was adding a title at the top, for this I found the <a href=https://github.com/sindresorhus/ink-big-text>ink-big-text</a> library, which allows for creating ASCII art titles. However, one problem I ran into was that my title would then be too big on narrow terminals and so not display properly. To fix this, I used the value <code>process.stdout.colums</code>, which tells you how many columns the terminal has, and so I could use this to change the font to a smaller one if the terminal was narrow.</p><p>Next was the main content of the CV, for this I created a few components to allow for a more consistent layout.</p><h2 id=section>Section</h2><p>For each section of the CV, I had a component, this would just pass through the children, but would also take a title prop which created an ASCII art title for each section, this looked like this</p><div class=highlight><pre class=chroma><code class=language-react data-lang=react><span class=kd>function</span> <span class=nx>Section</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>flexDirection</span><span class=o>=</span><span class=s>&#34;column&#34;</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>BigText</span> <span class=na>text</span><span class=o>=</span><span class=p>{</span><span class=nx>props</span><span class=p>.</span><span class=nx>title</span><span class=p>}</span> <span class=na>font</span><span class=o>=</span><span class=s>&#34;tiny&#34;</span> <span class=p>/&gt;</span>
      <span class=p>{</span><span class=nx>props</span><span class=p>.</span><span class=nx>children</span><span class=p>}</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><h2 id=skill>Skill</h2><p>For the skills section, I use a slightly different component as it is more of a list format, and so the component looks like this</p><div class=highlight><pre class=chroma><code class=language-react data-lang=react><span class=kd>function</span> <span class=nx>Skill</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>width</span><span class=o>=</span><span class=p>{</span><span class=mi>25</span><span class=p>}&gt;</span>
        <span class=p>&lt;</span><span class=nt>Text</span> <span class=na>bold</span><span class=p>&gt;{</span><span class=nx>props</span><span class=p>.</span><span class=nx>name</span><span class=p>}&lt;/</span><span class=nt>Text</span><span class=p>&gt;</span>
      <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>Text</span><span class=p>&gt;{</span><span class=nx>props</span><span class=p>.</span><span class=nx>children</span><span class=p>}&lt;/</span><span class=nt>Text</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><h2 id=item>Item</h2><p>For most sections, I have the format of a title, with the date on the same line but right aligned, with a description beneath, and so this component allowed for that design.</p><div class=highlight><pre class=chroma><code class=language-react data-lang=react><span class=kd>function</span> <span class=nx>Item</span><span class=p>(</span><span class=nx>props</span><span class=p>)</span> <span class=p>{</span>
  <span class=k>return</span> <span class=p>(</span>
    <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>flexDirection</span><span class=o>=</span><span class=s>&#34;column&#34;</span> <span class=na>marginBottom</span><span class=o>=</span><span class=p>{</span><span class=mi>1</span><span class=p>}&gt;</span>
      <span class=p>&lt;</span><span class=nt>Box</span> <span class=na>justifyContent</span><span class=o>=</span><span class=s>&#34;space-between&#34;</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>Text</span> <span class=na>bold</span><span class=p>&gt;{</span><span class=nx>props</span><span class=p>.</span><span class=nx>title</span><span class=p>}&lt;/</span><span class=nt>Text</span><span class=p>&gt;</span>
        <span class=p>&lt;</span><span class=nt>Text</span> <span class=na>italic</span><span class=p>&gt;{</span><span class=nx>props</span><span class=p>.</span><span class=nx>date</span><span class=p>}&lt;/</span><span class=nt>Text</span><span class=p>&gt;</span>
      <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>Text</span><span class=p>&gt;{</span><span class=nx>props</span><span class=p>.</span><span class=nx>children</span><span class=p>}&lt;/</span><span class=nt>Text</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>Box</span><span class=p>&gt;</span>
  <span class=p>);</span>
<span class=p>}</span>
</code></pre></div><h2 id=json>JSON</h2><p>To make future manipulation easier, I wanted to have the CV as a JSON file, which would then work to populate the code. Getting this in the main file was easy, by just using the line</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>config</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;./config.json&#34;</span><span class=p>);</span>
</code></pre></div><p>Then for each section, I would use conditional rendering using the pattern</p><div class=highlight><pre class=chroma><code class=language-jsx data-lang=jsx><span class=p>{</span><span class=nx>config</span><span class=p>.</span><span class=nx>skills</span> <span class=o>?</span> <span class=p>(&lt;</span><span class=nt>Code</span> <span class=p>/&gt;</span> <span class=p>)</span> <span class=o>:</span> <span class=kc>undefined</span><span class=p>}</span>
</code></pre></div><p>This meant that if the key <code>skills</code> wasn&rsquo;t there, then the section wouldn&rsquo;t render, and if it was, then it would.</p><p>I could then use <code>map</code>s to add each bit of content, with the skills section being slightly more complicated because I wanted the user to be able to specify the title for each category using the JSON keys, which looks like this</p><div class=highlight><pre class=chroma><code class=language-jsx data-lang=jsx><span class=p>&lt;</span><span class=nt>Section</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Skills&#34;</span><span class=p>&gt;</span>
	<span class=p>{</span><span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>config</span><span class=p>.</span><span class=nx>skills</span><span class=p>).</span><span class=nx>map</span><span class=p>((</span><span class=nx>title</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
		<span class=p>&lt;</span><span class=nt>Skill</span> <span class=na>name</span><span class=o>=</span><span class=p>{</span><span class=nx>title</span><span class=p>}&gt;{</span><span class=nx>config</span><span class=p>.</span><span class=nx>skills</span><span class=p>[</span><span class=nx>title</span><span class=p>].</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34;, &#34;</span><span class=p>)}&lt;/</span><span class=nt>Skill</span><span class=p>&gt;</span>
	<span class=p>))}</span>
<span class=p>&lt;/</span><span class=nt>Section</span><span class=p>&gt;</span>
</code></pre></div><p>Whereas the rest were more simple in mapping over a list of objects</p><div class=highlight><pre class=chroma><code class=language-jsx data-lang=jsx><span class=p>&lt;</span><span class=nt>Section</span> <span class=na>title</span><span class=o>=</span><span class=s>&#34;Qualifications&#34;</span><span class=p>&gt;</span>
	<span class=p>{</span><span class=nx>config</span><span class=p>.</span><span class=nx>qualifications</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>item</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>(</span>
		<span class=p>&lt;</span><span class=nt>Item</span> <span class=na>title</span><span class=o>=</span><span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>title</span><span class=p>}</span> <span class=na>date</span><span class=o>=</span><span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>date</span><span class=p>}&gt;</span>
			<span class=p>{</span><span class=nx>item</span><span class=p>.</span><span class=nx>description</span><span class=p>}</span>
		<span class=p>&lt;/</span><span class=nt>Item</span><span class=p>&gt;</span>
	<span class=p>))}</span>
<span class=p>&lt;/</span><span class=nt>Section</span><span class=p>&gt;</span>
</code></pre></div><p>Then was the case of allowing this to be executed in the terminal, the suggested way is to use <code>importJsx</code> to import the file that uses React</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=ch>#!/usr/bin/env node
</span><span class=ch></span><span class=s2>&#34;use strict&#34;</span><span class=p>;</span>
<span class=kr>const</span> <span class=nx>React</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;react&#34;</span><span class=p>);</span>
<span class=kr>const</span> <span class=nx>importJsx</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;import-jsx&#34;</span><span class=p>);</span>
<span class=kr>const</span> <span class=p>{</span> <span class=nx>render</span> <span class=p>}</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;ink&#34;</span><span class=p>);</span>
<span class=kr>const</span> <span class=nx>cv</span> <span class=o>=</span> <span class=nx>importJsx</span><span class=p>(</span><span class=s2>&#34;./ink&#34;</span><span class=p>);</span>
<span class=nx>render</span><span class=p>(</span><span class=nx>React</span><span class=p>.</span><span class=nx>createElement</span><span class=p>(</span><span class=nx>cv</span><span class=p>));</span>
</code></pre></div><p>It is also possible to do this using Babel, but this worked for me</p></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous></div></body></html>