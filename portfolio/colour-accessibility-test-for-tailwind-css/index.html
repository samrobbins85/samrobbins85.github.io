<!doctype html><style>html{height:100vh}body{min-height:100vh;display:grid;grid-template-rows:1fr auto}.footer{grid-row-start:2;grid-row-end:3}</style><html lang=en-gb><head><meta charset=utf-8><title>Sam Robbins</title><link rel=canonical href=https://samrobbins.uk/portfolio/colour-accessibility-test-for-tailwind-css/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=monetization content="$ilp.uphold.com/reGxiLfZfUmn"><meta name=description property="og:description" content="Test contrasting colours against the WCAG standards"><meta name=image property="og:image" content="/"><meta name=author content="Sam Robbins"><meta name=generator content="Hugo 0.75.1"><link rel=stylesheet href=/css/syntax.min.css integrity media=screen><script src=https://cdn.jsdelivr.net/npm/mailgo@0.9.14/dist/mailgo.min.js defer></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link href=/css/tailwind.min.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8348650db5154c01999667d263b7e6e1"}'></script></head><body class=portfolio><div class=wrapper><nav class="fixed h-16 p-4 bg-white border-b border-gray-200 w-full z-20"><div class="flex divide-x-4 divide-transparent pr-6 text-lg items-center text-gray-700"><a href=/ class=font-normal>Home</a>
<a href=/about/ title=About>About</a>
<a href=/blog/ title=Blog>Blog</a>
<a class="text-gray-800 font-semibold" href=/portfolio/ title=Portfolio>Portfolio</a>
<a href=/writing/ title=Writing>Writing</a></div></nav><section class="pt-20 px-4"><div class="container mx-auto"><h1 class="text-4xl text-center font-semibold">Colour accessibility test for Tailwind CSS</h1><p class="text-center text-gray-600 text-xl">Test contrasting colours against the WCAG standards</p><div class="py-4 text-gray-600"><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>Nov 29, 2020</p><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3A9 9 0 113 12a9 9 0 0118 0z"/></svg>2 minutes</p></div><div class="flex justify-center gap-x-40 gap-y-4 flex-wrap"><div class="border border-gray-500 px-4 py-2 w-32"><a href=https://colour-a11y.vercel.app/><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-6 w-6 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657.0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657.0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/></svg>Website</a></div><div class="border border-gray-500 px-4 py-2 w-32"><a href=https://github.com/samrobbins85/colour-a11y-for-tailwind><img src=https://unpkg.com/simple-icons@v3/icons/github.svg class="inline-block h-6 w-6 mr-2"> Github</a></div></div><hr class=my-4><h2 class="text-center text-3xl">Built with</h2><section class="py-6 px-2"><div class=container><div class="flex justify-center gap-x-10 flex-wrap gap-y-4"><div><a href=https://tailwindcss.com/><img class="h-20 w-32 object-contain" src=https://res.cloudinary.com/samrobbins/image/upload/v1597140224/tailwindcss_rnpshz.svg alt="Tailwind CSS" loading=lazy style=cursor:pointer></a></div><div><a href=https://headlessui.dev/><img class="h-20 w-32 object-contain" src=https://res.cloudinary.com/samrobbins/image/upload/v1606660202/headless_f6rnbz.svg alt="Headless UI" loading=lazy style=cursor:pointer></a></div><div><a href=https://nextjs.org/><img class="h-20 w-32 object-contain" src=https://res.cloudinary.com/samrobbins/image/upload/v1597140056/next-black_csivx6.svg alt=Next.js loading=lazy style=cursor:pointer></a></div></div></div></section><hr class=py-4></div></div></section><div class="container prose mx-auto w-screen px-4 pb-6"><p>I&rsquo;m a big fan of Tailwind CSS, in part for it giving an already set up colour scheme. But one thing I&rsquo;ve fallen foul of in the past is using the colours in a way that is accessible. The gradients are already set up in a way that gives you a good estimate as around 700+ on white will be accessible and around less than 500 on white.</p><p>However, this changes between the different colours, so I wanted to build a site which showed the accessibility scores for all the colours, making it easy to see which ones to use. This also provides the scope for testing the colours on a wide range of backgrounds.</p><p>The start of this was getting the <code>tailwindcss/colours</code> object, which provides hex values for all the colours, and this was as simple as</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kr>const</span> <span class=nx>colors</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s2>&#34;tailwindcss/colors&#34;</span><span class=p>);</span>
</code></pre></div><p>I could then map over this object, being careful to exclude black and white as they have just one value</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>colors</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>color</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=k>typeof</span> <span class=nx>colors</span><span class=p>[</span><span class=nx>color</span><span class=p>]</span> <span class=o>===</span> <span class=s2>&#34;object&#34;</span><span class=p>)</span>
  <span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>color</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>())</span>
</code></pre></div><p>And within this I could then use a similar method to map over the shades</p><p>I then used the npm package <code>wcag-contrast</code> which makes it easy to get a WCAG score from two colours like this</p><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=nx>score</span><span class=p>(</span><span class=nx>hex</span><span class=p>(</span><span class=nx>colour1</span><span class=p>,</span> <span class=nx>colour2</span><span class=p>));</span>
</code></pre></div><p>And all these results were just displayed in a grid with varying columns for different viewport sizes. Setting a default width then using flex wrap may have given a better experience, but grid columns give a very reliable output.</p><p>Then came switching between black and white, for this I decided to try the new <a href=https://headlessui.dev/>headlessui</a> library by Tailwind Labs. This made it easy to create a toggle for the black background and link this into React state. This could then be used to set the <code>dark</code> property on the outermost <code>div</code>, and then using the new Tailwind CSS dark theme, I could then change the text colours to ensure everything was visible. This also changed the colour with which the WCAG scores were being generated, so they were now correct against black.</p></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous></div></body></html>