<!doctype html><style>html{height:100vh}body{min-height:100vh;display:grid;grid-template-rows:1fr auto}.footer{grid-row-start:2;grid-row-end:3}</style><html lang=en-gb><head><meta charset=utf-8><title>Sam Robbins</title><link rel=canonical href=https://samrobbins.uk/portfolio/p5-component/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=monetization content="$ilp.uphold.com/reGxiLfZfUmn"><meta name=description property="og:description" content="Creating a reusable component from a p5 Sketch"><meta name=image property="og:image" content="/"><meta name=author content="Sam Robbins"><meta name=generator content="Hugo 0.75.1"><link rel=stylesheet href=/css/syntax.min.css integrity media=screen><script src=https://cdn.jsdelivr.net/npm/mailgo@0.9.14/dist/mailgo.min.js defer></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link href=/css/tailwind.min.css rel=stylesheet><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8348650db5154c01999667d263b7e6e1"}'></script></head><body class=portfolio><div class=wrapper><nav class="fixed h-16 p-4 bg-white border-b border-gray-200 w-full z-20"><div class="flex divide-x-4 divide-transparent pr-6 text-lg items-center text-gray-700"><a href=/ class=font-normal>Home</a>
<a href=/about/ title=About>About</a>
<a href=/blog/ title=Blog>Blog</a>
<a class="text-gray-800 font-semibold" href=/portfolio/ title=Portfolio>Portfolio</a>
<a href=/writing/ title=Writing>Writing</a></div></nav><section class="pt-20 px-4"><div class="container mx-auto"><h1 class="text-4xl text-center font-semibold">p5 Component</h1><p class="text-center text-gray-600 text-xl">Creating a reusable component from a p5 Sketch</p><div class="py-4 text-gray-600"><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5A2 2 0 003 7v12a2 2 0 002 2z"/></svg>Feb 14, 2019</p><p class=text-center><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-4 w-4 inline-block stroke-current text-gray-600"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3A9 9 0 113 12a9 9 0 0118 0z"/></svg>2 minutes</p></div><div class="flex justify-center gap-x-40 gap-y-4 flex-wrap"><div class="border border-gray-500 px-4 py-2 w-32"><a href=https://github.com/samrobbins85/Programming-P5-Coursework><img src=https://unpkg.com/simple-icons@v3/icons/github.svg class="inline-block h-6 w-6 mr-2"> Github</a></div></div><hr class=my-4><h2 class="text-center text-3xl">Built with</h2><section class="py-6 px-2"><div class=container><div class="flex justify-center gap-x-10 flex-wrap gap-y-4"><div><a href=https://www.ecma-international.org/memento/tc39.htm><img class="h-20 w-32 object-contain" src=https://res.cloudinary.com/samrobbins/image/upload/q_auto/v1591793272/logos/logos_javascript_adj1dx.svg alt=JavaScript loading=lazy style=cursor:pointer></a></div><div><a href=https://p5js.org/><img class="h-20 w-32 object-contain" src=/img/logos/p5.svg alt=p5 loading=lazy style=cursor:pointer></a></div></div></div></section><hr class=py-4></div></div></section><div class="container prose mx-auto w-screen px-4 pb-6"><p>In this coursework we were to take a p5 sketch from <a href=https://www.openprocessing.org/ title=https://www.openprocessing.org/>https://www.openprocessing.org/</a> and adapt it into a reusable component. For this I used the sketch <a href=https://www.openprocessing.org/sketch/429506 title=https://www.openprocessing.org/sketch/429506>https://www.openprocessing.org/sketch/429506</a>. It looks like this:</p><p><img src=https://res.cloudinary.com/samrobbins/image/upload/q_auto/v1593525155/2020-06-30_14-52_j7lpkb.png alt="Image of sketch"></p><h2 id=running>Running</h2><p>This only needs an internet connection to request the various libraries involved, it can be ran by just opening the HTML file in your browser</p><h2 id=example-functions>Example functions</h2><h3 id=setup>Setup</h3><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kd>function</span> <span class=nx>setup</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>createCanvas</span><span class=p>(</span><span class=nx>windowWidth</span><span class=p>,</span> <span class=nx>windowHeight</span><span class=p>);</span>
  <span class=nx>rectMode</span><span class=p>(</span><span class=nx>CENTER</span><span class=p>);</span>
  <span class=nx>textAlign</span><span class=p>(</span><span class=nx>CENTER</span><span class=p>);</span>
  <span class=nx>textSize</span><span class=p>(</span><span class=mi>14</span><span class=p>);</span>
  <span class=nx>colorMode</span><span class=p>(</span><span class=nx>HSB</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div><h3 id=draw>Draw</h3><div class=highlight><pre class=chroma><code class=language-js data-lang=js><span class=kd>function</span> <span class=nx>draw</span><span class=p>()</span> <span class=p>{</span>
  <span class=kd>let</span> <span class=nx>b</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>shape</span><span class=p>();</span>
  <span class=nx>b</span><span class=p>.</span><span class=nx>background_colour</span> <span class=o>=</span> <span class=nx>background_colour</span><span class=p>;</span>
  <span class=nx>b</span><span class=p>.</span><span class=nx>speed</span> <span class=o>=</span> <span class=nx>speed</span><span class=p>;</span>
  <span class=nx>b</span><span class=p>.</span><span class=nx>offset</span> <span class=o>=</span> <span class=nx>offset</span><span class=p>;</span>
  <span class=nx>b</span><span class=p>.</span><span class=nx>value1</span> <span class=o>=</span> <span class=nx>value1</span><span class=p>;</span>
  <span class=nx>b</span><span class=p>.</span><span class=nx>value2</span> <span class=o>=</span> <span class=nx>value2</span><span class=p>;</span>
  <span class=nx>b</span><span class=p>.</span><span class=nx>draw</span><span class=p>();</span>
<span class=p>}</span>
</code></pre></div><h2 id=parameters>Parameters</h2><p>The parameters for the constructor of the class shape are as follows:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Min</th><th>Max</th><th>Description</th></tr></thead><tbody><tr><td>background_colour</td><td>Integer</td><td>0</td><td>360</td><td>The colour of the background of the sketch</td></tr><tr><td>speed</td><td>Integer</td><td>0</td><td>N/A</td><td>The speed at which the shape oscillates</td></tr><tr><td>offset</td><td>Integer</td><td>0</td><td>90</td><td>The offset between the squares</td></tr><tr><td>value1</td><td>Integer</td><td>0</td><td>360</td><td>The minimum colour of the shape</td></tr><tr><td>value2</td><td>Integer</td><td>0</td><td>360</td><td>The maximum colour of the shape</td></tr></tbody></table><p>All these parameters then have methods in the form of getters and setters in order to verify the data being passed is in the correct format and range.</p><p>value1 should be less than value2, but if this is not true, the definitions of value1 and value2 will be swapped so that the sketch still works.</p><p>There are then three functions:</p><ul><li><code>draw</code> - This performs all the drawing of the shape</li><li><code>mouseDragged</code> - This changes the values of the variables twist and count when the mouse is clicked and dragged</li><li><code>constructor</code> - This creates and initialises the object within the class shape</li></ul><h2 id=explanation-of-example>Explanation of example</h2><p>The example allows you to control all of the parameters for the constructor shape.</p><ul><li>The background colour slider controls the parameter background_colour</li><li>The speed slider controls the parameter speed</li><li>The offset sider controls the parameter speed</li><li>The colour range slider has two sliders on it, the left hand one controlling value 1, and the right hand one controlling value 2</li></ul><p>The example uses the variable b to draw the shape</p></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous></div></body></html>